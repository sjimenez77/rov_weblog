{% extends '::frontend_bootstrap.html.twig' %}

{% block title %}{{ 'Manage articles'|trans }}{% endblock %}

{% block body %}
	{{ parent() }}

<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Blog <small>{{ 'Manage articles'|trans }}</small></h1>
			<ol class="breadcrumb">
				<li><a href="{{ path('home') }}">{{ 'Home'|trans }}</a></li>
				<li class="active">{{ 'Manage articles'|trans }}</li>
			</ol>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h4>{{ 'Write a new article'|trans }}</h4>
				</div>
				<div class="panel-body">
					{# Flashbag session success messages #}
					{% for message in app.session.flashbag.get('error') %}
					<div class="alert alert-danger">{{ message|trans }}</div>
					{% endfor %}
					{% for message in app.session.flashbag.get('success') %}
					<div class="alert alert-success">{{ message|trans }}</div>
					{% endfor %}
					<div class="row">
						<div class="col-md-8">




						</div>
						<br class="visible-xs visible-sm">
						<div class="col-md-4">
							<!-- Button trigger modal -->
							<button class="btn btn-primary btn-block" data-toggle="modal" data-target="#newCategory" style="margin-bottom:5px">{{ 'Create a new category'|trans }}</button>
							<!-- Button trigger modal -->
							<button class="btn btn-info btn-block" data-toggle="modal" data-target="#newTag" style="margin-top:5px">{{ 'Create a new tag'|trans }}</button>
						</div>
					</div>
					<hr>
					<button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o"></i>&nbsp;&nbsp;{{ 'Save changes'|trans }}</button>
					<button type="button" class="btn">{{ 'Cancel'|trans }}</button>
					<!-- New Category Modal -->
					<div class="modal fade" id="newCategory" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								{{ form_start(new_category_form, {'method': 'POST', 'action': path('rov_blog_new_article') }) }}
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel">{{ 'Create a new category'|trans }}</h4>
								</div>
								<div class="modal-body">
										{{ form_row(new_category_form.name) }}
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">{{ 'Close'|trans }}</button>
									<button type="submit" class="btn btn-primary">{{ 'Save changes'|trans }}</button>
								</div>
								{{ form_end(new_category_form) }}
							</div>
						</div>
					</div>
					<!-- New Tag Modal -->
					<div class="modal fade" id="newTag" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								{{ form_start(new_tag_form, {'method': 'POST', 'action': path('rov_blog_new_article') }) }}
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel">{{ 'Create a new tag'|trans }}</h4>
								</div>
								<div class="modal-body">
									{{ form_row(new_tag_form.name) }}
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">{{ 'Close'|trans }}</button>
									<button type="submit" class="btn btn-primary">{{ 'Save changes'|trans }}</button>
								</div>
								{{ form_end(new_tag_form) }}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
{% block js %}
	{# Select2 and wysihtml5 creation #}
	{{ parent() }}
    {% if locale == 'es' %}
    <script type="text/javascript" src="{{ asset('bundles/rovstart/js/select2/select2_locale_es.js') }}"></script>
    {% endif %}
	<script>
		$('#rov_blogbundle_articletype_category').select2({
			placeholder: "{{ 'Choose a category'|trans }}"
		});
		$('#rov_blogbundle_articletype_tags').select2({
			placeholder: "{{ 'Choose tags'|trans }}"
		});
	</script>
{% endblock %}