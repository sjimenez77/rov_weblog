{# Right panel full #}
<div class="col-lg-4">
	<div class="well">
		{{ form_start(form_search, {'method': 'POST', 'action': path('rov_blog_article_search') }) }}
		<h4>{{ 'Articles search'|trans }}</h4>
		<div class="input-group">
			{{ form_widget(form_search.search) }}
			<span class="input-group-btn">
				<button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
			</span>
		</div><!-- /input-group -->
		{{ form_end(form_search) }}
	</div><!-- /well -->
	<div class="well">
		<h4>{{ 'Categories'|trans }}</h4>
		<div class="row">
			{% set length = categories|length %}
			{% if length > 0 %}
			<div class="col-xs-6">
				<ul class="list-unstyled">
					{% for category in categories|slice(0, (length / 2)|round) %}
					<li><a href="{{ path('rov_blog_article_category', { 'slug': category.slug })}}">{{ category.name|trans }}</a></li>
					{% endfor %}
				</ul>
			</div>
			<div class="col-xs-6">
				<ul class="list-unstyled">
					{% for category in categories|slice((length / 2)|round, length) %}
					<li><a href="{{ path('rov_blog_article_category', { 'slug': category.slug })}}">{{ category.name|trans }}</a></li>
					{% endfor %}
				</ul>
			</div>
			{% else %}
			<div class="col-lg-12">
				<p>{{ 'There are no categories yet'|trans }}</p>
			</div>
			{% endif %}
		</div>
		{% if is_granted('ROLE_ADMIN') %}
		<!-- Button trigger modal -->
		<button class="btn btn-primary btn-block" data-toggle="modal" data-target="#newCategory" style="margin-bottom:5px">{{ 'Create a new category'|trans }}</button>
		{% endif %}
	</div><!-- /well -->
	<div class="well">
		<h4>{{ 'Tags'|trans }}</h4>
		<div class="row">
			{% set length = tags|length %}
			{% if length > 0 %}
			<div class="col-xs-6">
				<ul class="list-unstyled">
					{% for tag in tags|slice(0, (length / 2)|round) %}
					<li><a href="{{ path('rov_blog_article_tag', { 'slug': tag.slug })}}">{{ tag.name|trans }}</a></li>
					{% endfor %}
				</ul>
			</div>
			<div class="col-xs-6">
				<ul class="list-unstyled">
					{% for tag in tags|slice((length / 2)|round, length) %}
					<li><a href="{{ path('rov_blog_article_tag', { 'slug': tag.slug })}}">{{ tag.name|trans }}</a></li>
					{% endfor %}
				</ul>
			</div>
			{% else %}
			<div class="col-lg-12">
				<p>{{ 'There are no tags yet'|trans }}</p>
			</div>
			{% endif %}
		</div>
		{% if is_granted('ROLE_ADMIN') %}
		<!-- Button trigger modal -->
		<button class="btn btn-info btn-block" data-toggle="modal" data-target="#newTag" style="margin-top:5px">{{ 'Create a new tag'|trans }}</button>
		{% endif %}
	</div><!-- /well -->
	{% if is_granted('ROLE_ADMIN') %}
	<!-- New Category Modal -->
	<div class="modal fade" id="newCategory" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				{{ form_start(new_category_form, {'method': 'POST', 'action': path('rov_blog_manage_articles') }) }}
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">{{ 'Create a new category'|trans }}</h4>
				</div>
				<div class="modal-body">
					{{ form_row(new_category_form.name) }}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">{{ 'Close'|trans }}</button>
					<button type="submit" class="btn btn-primary">{{ 'Save changes'|trans }}</button>
				</div>
				{{ form_end(new_category_form) }}
			</div>
		</div>
	</div>
	<!-- New Tag Modal -->
	<div class="modal fade" id="newTag" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				{{ form_start(new_tag_form, {'method': 'POST', 'action': path('rov_blog_manage_articles') }) }}
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">{{ 'Create a new tag'|trans }}</h4>
				</div>
				<div class="modal-body">
					{{ form_row(new_tag_form.name) }}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">{{ 'Close'|trans }}</button>
					<button type="submit" class="btn btn-primary">{{ 'Save changes'|trans }}</button>
				</div>
				{{ form_end(new_tag_form) }}
			</div>
		</div>
	</div>
	{% endif %}
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h4 class="panel-title">{{ 'Articles in the last months'|trans }}</h4>
		</div>
		<div class="panel-body">
			<div class="col-xs-12">
				<p>{{ 'Click in any month to see the articles published in that date'|trans }}</p>
				<div class="list-group">
					{% for groupMonth in articlesMonth %}
					<a href="{{ path('rov_blog_article_date', { 'year': groupMonth.year, 'month': groupMonth.month }) }}" class="list-group-item">
						<span class="badge">{{ groupMonth.total }}</span>
						{{ (groupMonth.year ~ '-' ~ groupMonth.month ~ '-' ~ '01')|date('F')|trans }} {{ groupMonth.year }} 
					</a>
					{% endfor %}
				</div>
			</div>
		</div>
		<div class="panel-footer">{{ 'For older articles you can use the search engine'|trans }}</div>
	</div>
</div>
