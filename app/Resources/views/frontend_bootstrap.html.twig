{% extends '::base.html.twig' %}

{% block lang %}{{ app.request.locale }}{% endblock %}
{% block title %}{% endblock %}

{% block meta %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="Blog dedicado a la cultura del vino y a otras cosas interesantes">
    <meta name="author" content="Raquel Olivas Verdejo y Santos Jiménez Linares">
{% endblock %}

{% block stylesheets %}
    {# Assetic #}
    {% stylesheets filter='?uglifycss' 
        'bundles/rovstart/css/bootstrap.css'
        'bundles/rovstart/css/modern-business.css'
        'bundles/rovstart/font-awesome/css/font-awesome.min.css'
        filter='cssrewrite'
        output='css/compiled/main.css' %}
        <link href="{{ asset_url }}" rel="stylesheet">
    {% endstylesheets %}
{% endblock %}

{% block ie %}
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
{% endblock %}

{% block icons %}
    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" href="{{ asset('apple-touch-icon.png') }}">
    <link rel="shortcut icon" href="{{ asset('favicon.png') }}">
{% endblock %}

{% block body %}
    {% include '::navbar.html.twig' %}
{% endblock %}

{% block footer %}
    {% include '::footer.html.twig' %}
{% endblock %}

{% block js %}
    {# Assetic #}
    {% javascripts filter='?uglifyjs2' 
        '//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js'
        '@ROVStartBundle/Resources/public/js/bootstrap.js' 
        '@ROVStartBundle/Resources/public/js/modern-business.js' 
        '@ROVStartBundle/Resources/public/js/holder.js' 
        output='js/compiled/main.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script type="text/javascript">
        // *** Eventos **************************************************************************
        $(function () {
            var amplia_footer = function() {
                // Ampliamos el alto del footer hasta el fondo de la página en el caso
                // de que el contenido sea demasiado pequeño y el footer se quede por 
                // encima del mismo
                var diferencia = $(window).height() - ($('footer').height() + $('footer').offset().top);
                if (diferencia > 0) {
                    var altura_footer = $('footer').height();
                    $('footer').height(altura_footer + diferencia - 50);
                } else {
                    $('footer').height('auto');
                }
                return true;
            }
            $(window).on('resize', function() {amplia_footer()} );
            $(window).on('ready', function() {setTimeout(function(){amplia_footer()},50)} );
        });
    </script>
{% endblock %}